/* ============================================================
   AskMM.ai v2 — Brand System
   Modern & Minimal · Content-Forward · Health/Wellness Search
   ============================================================ */

@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ============================================================
   1. COLOR PALETTE
   ============================================================
   Primary: Teal-Emerald — authoritative, natural, trustworthy
   Neutral: Cool slate — modern, clean, recedes behind content
   Accent:  Warm amber — sparingly used for highlights & badges
   ============================================================ */

@theme inline {
  /* --- Primary: Teal-Emerald --- */
  --color-primary-50:  #EFFDF6;
  --color-primary-100: #D9FBE8;
  --color-primary-200: #B5F5D3;
  --color-primary-300: #7CEAB4;
  --color-primary-400: #3DD68E;
  --color-primary-500: #15A06F;
  --color-primary-600: #0A8259;
  --color-primary-700: #086847;
  --color-primary-800: #09523A;
  --color-primary-900: #084431;
  --color-primary-950: #03271B;

  /* --- Neutral: Cool Slate --- */
  --color-neutral-50:  #F8FAFB;
  --color-neutral-100: #F0F3F5;
  --color-neutral-200: #E2E7EC;
  --color-neutral-300: #CBD3DA;
  --color-neutral-400: #9BA7B3;
  --color-neutral-500: #6B7A88;
  --color-neutral-600: #4E5D6B;
  --color-neutral-700: #3B4856;
  --color-neutral-800: #283340;
  --color-neutral-900: #1A232E;
  --color-neutral-950: #0F161E;

  /* --- Accent: Warm Amber --- */
  --color-accent-50:  #FFFBEB;
  --color-accent-100: #FEF3C7;
  --color-accent-200: #FDE68A;
  --color-accent-300: #FCD34D;
  --color-accent-400: #FBBF24;
  --color-accent-500: #F59E0B;
  --color-accent-600: #D97706;
  --color-accent-700: #B45309;
  --color-accent-800: #92400E;
  --color-accent-900: #78350F;
  --color-accent-950: #451A03;

  /* --- Semantic --- */
  --color-success: #16A06F;
  --color-warning: #F59E0B;
  --color-error:   #EF4444;

  /* --- Animations --- */
  --animate-fade-in:    fadeIn 0.4s ease-out both;
  --animate-slide-up:   slideUp 0.5s ease-out both;
  --animate-pulse-soft: pulseSoft 2s ease-in-out infinite;

  /* --- Font --- */
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-mono: ui-monospace, 'SF Mono', 'Cascadia Code', monospace;
}


/* ============================================================
   2. SEMANTIC TOKENS
   ============================================================
   Adaptive surface, text, and border colors that respond to
   the user's color scheme preference.
   ============================================================ */

:root {
  --background:         #FFFFFF;
  --foreground:         #1A232E;
  --surface:            #F8FAFB;
  --surface-elevated:   #FFFFFF;
  --border:             #E2E7EC;
  --border-subtle:      #F0F3F5;
  --ring:               #15A06F;
  --muted:              #6B7A88;
  --muted-foreground:   #4E5D6B;

  color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background:         #0F161E;
    --foreground:         #F0F3F5;
    --surface:            #1A232E;
    --surface-elevated:   #283340;
    --border:             #3B4856;
    --border-subtle:      #283340;
    --ring:               #3DD68E;
    --muted:              #9BA7B3;
    --muted-foreground:   #CBD3DA;
  }
}


/* ============================================================
   3. BASE STYLES
   ============================================================ */

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
  line-height: 1.6;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Selection highlight */
::selection {
  background-color: var(--color-primary-200);
  color: var(--color-primary-900);
}

@media (prefers-color-scheme: dark) {
  ::selection {
    background-color: var(--color-primary-800);
    color: var(--color-primary-100);
  }
}

/* Focus ring — consistent across all interactive elements */
:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
  border-radius: 4px;
}


/* ============================================================
   4. TYPOGRAPHY
   ============================================================
   Inter is loaded via next/font with variable --font-inter.
   We use tracking, weight, and size to create hierarchy.
   ============================================================ */

h1, h2, h3, h4, h5, h6 {
  font-weight: 650;
  letter-spacing: -0.025em;
  line-height: 1.2;
  color: var(--foreground);
}


/* ============================================================
   5. PROSE — react-markdown content
   ============================================================ */

.prose {
  --tw-prose-body:         var(--foreground);
  --tw-prose-headings:     var(--foreground);
  --tw-prose-lead:         var(--muted);
  --tw-prose-links:        var(--color-primary-600);
  --tw-prose-bold:         var(--foreground);
  --tw-prose-counters:     var(--muted);
  --tw-prose-bullets:      var(--color-neutral-400);
  --tw-prose-hr:           var(--border);
  --tw-prose-quotes:       var(--foreground);
  --tw-prose-quote-borders: var(--color-primary-500);
  --tw-prose-captions:     var(--muted);
  --tw-prose-code:         var(--foreground);
  --tw-prose-pre-code:     var(--color-neutral-200);
  --tw-prose-pre-bg:       var(--surface);
  --tw-prose-th-borders:   var(--border);
  --tw-prose-td-borders:   var(--border-subtle);
}

@media (prefers-color-scheme: dark) {
  .prose {
    --tw-prose-links: var(--color-primary-400);
  }
}


/* ============================================================
   6. COMPONENT UTILITIES
   ============================================================ */

/* Card surface — elevated, bordered, softly rounded */
.card {
  background-color: var(--surface-elevated);
  border: 1px solid var(--border);
  border-radius: 10px;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.card:hover {
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.04),
    0 4px 12px rgba(0, 0, 0, 0.03);
  border-color: var(--color-neutral-300);
}

@media (prefers-color-scheme: dark) {
  .card:hover {
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.2),
      0 4px 12px rgba(0, 0, 0, 0.15);
    border-color: var(--color-neutral-600);
  }
}

/* Skeleton shimmer — loading placeholders */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--surface) 25%,
    var(--border) 50%,
    var(--surface) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 6px;
}

/* Timestamp badge */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  font-size: 12px;
  font-weight: 500;
  font-variant-numeric: tabular-nums;
  border-radius: 6px;
  background-color: var(--color-primary-50);
  color: var(--color-primary-700);
  border: 1px solid var(--color-primary-200);
}

@media (prefers-color-scheme: dark) {
  .badge {
    background-color: var(--color-primary-950);
    color: var(--color-primary-300);
    border-color: var(--color-primary-800);
  }
}


/* ============================================================
   7. ANIMATIONS
   ============================================================ */

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulseSoft {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.6; }
}

@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}


/* ============================================================
   8. PWA — Standalone Mode
   ============================================================ */

/* Safe area padding for notched devices */
@supports (padding-top: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Standalone PWA: contain to viewport, scroll inside main */
@media (display-mode: standalone) {
  html {
    height: 100%;
    overflow: hidden;
  }

  body {
    height: 100%;
    overflow: hidden;
    box-sizing: border-box;
    padding-bottom: 0;
  }

  #app-shell {
    height: 100%;
    min-height: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  #app-shell > main {
    flex: 1 1 0%;
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
    padding-bottom: env(safe-area-inset-bottom);
  }
}
